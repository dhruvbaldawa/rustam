# Task 2.3: Mobile-First Polish

## Goal

Ensure the app works flawlessly on mobile devices with proper viewport handling, touch targets, and safe area support.

## Working Result

- App fills mobile viewport properly (no awkward scrolling)
- Buttons are touch-friendly (minimum 44px touch targets)
- Safe areas respected on notched devices (iPhone X+)
- No horizontal overflow on any screen
- Keyboard doesn't break layout on input fields

## Constraints

- Must work on iOS Safari, Android Chrome, and desktop browsers
- Must handle devices with notches and home indicators
- Existing functionality must not break

## Dependencies

None - can be done alongside other M2 tasks.

<guidance>

## Key Areas to Address

### 1. Viewport Meta Tag

Ensure index.html has proper viewport:
```html
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
```

`viewport-fit=cover` is important for notched devices.

### 2. Safe Areas (CSS)

Add safe area padding for notched devices:
```css
/* In global CSS or Tailwind */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-area-top {
  padding-top: env(safe-area-inset-top, 0);
}
```

Apply to:
- Bottom navigation/buttons
- Full-screen role reveal screens
- Any fixed-position elements

### 3. Touch Targets

Audit all buttons/links:
- Minimum 44x44px touch area (Apple HIG)
- Adequate spacing between interactive elements
- Current buttons look good but verify on real device

### 4. Min-Height Issues

Current screens use `min-h-screen`. On mobile:
- iOS Safari has dynamic viewport height (URL bar hides/shows)
- Consider using `min-h-dvh` (dynamic viewport height) if Tailwind v4 supports it
- Or use CSS: `min-height: 100dvh;`

### 5. Keyboard Handling

On Join screen with input fields:
- Ensure keyboard doesn't push content off-screen
- Consider `position: fixed` for bottom buttons when keyboard opens
- Test on actual mobile device

### 6. Font Sizes

Review text sizes on mobile:
- Large headings (text-5xl, text-6xl, text-7xl) may be too big on small screens
- Use responsive sizing: `text-4xl md:text-6xl`

### 7. QR Code Size

On Lobby screen, QR code may be too large on small screens:
- Make QR code responsive
- Consider smaller size on mobile with option to tap/expand

### Screens to Audit

1. **Home** - Simple, likely fine
2. **Host Lobby** - QR code sizing, player list scroll
3. **Host Game** - Button sizes, text sizing
4. **Player Join** - Form inputs, keyboard behavior
5. **Player Waiting** - Player list scroll
6. **Role Reveal** - Full-screen display, safe areas
7. **Rustam Revealed** - Safe areas
8. **Game Over** - Simple, likely fine

</guidance>

## Validation Checklist

- [ ] Viewport meta tag correct with viewport-fit=cover
- [ ] Safe area padding added to bottom buttons/content
- [ ] All buttons at least 44px touch target
- [ ] No horizontal scroll on any screen
- [ ] Text readable on small screens (responsive sizing)
- [ ] QR code usable on mobile (not too large)
- [ ] Keyboard doesn't break Join form layout
- [ ] Role reveal screens fill viewport properly on notched devices
- [ ] Tested on real iOS and Android device (or emulator)

**Status:** PENDING
